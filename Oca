#include <stdio.h>
#include <stdlib.h>
int main (void){

int posicion[6]={0,0,0,0,0,0}, ne, casillas=15, dado, turno=0, i=0, d=0;
char op;

do{	//Va a guardar el numero de jugadores se quieren usar.

	printf("Dame el numero de jugadores ");
	scanf("%d", &ne);
	
}while(ne>6 || ne<2);

//Creare un array, donde guardare las posiciones de los jugadores. Las posiciones se iran modificacion mientras que ninguno de los dos tenga un posicion distinta a

do{

   do{//Va cambiando el jugador

 
   		   	do{
				 printf("Dame lo que has sacado jugador %d ", turno+1 );
				 turno=(turno+1)%ne; //Va cambiando el turno de los jugadores
				 scanf("%d", &dado);
		
			}while(dado<1 || dado>6);
	
				 posicion[turno]+=dado;// Va sumando la puntuacion de los jugadores

//RESTRICCIONES DEL JUEGO				
			
//LA MUERTE
			if(posicion[turno]==57){
				
					posicion[turno]=0;
			}
//HACE LOS SALTOS DE LAS OCAS
	   
	   for(i=0;(4+i*9)!=posicion[turno] && i<=5;i++);//Si empieza la oca en el 4
				  
				  if(i<=6){ //En el caso de que este en la posicion 
				  	posicion[turno]=posicion[turno]+4;
				  }
	   
	   for(d=0;(8+i*9)!=posicion[turno] && i<=5;i++);//Si empieza la oca en el 8
				
				if(i<=5){ //En el caso de que este en la posicion 
				  	posicion[turno]=posicion[turno]+5;
				  }
				
//Hace que retroceda las casillas en caso de pasarme de la meta 
	  	 		    if(posicion[turno]>casillas){
	  	 		    	posicion[turno]=casillas*2-posicion[turno];
 						  }	
						  
	printf("\nEstas en la posicion %d\n  ", posicion[turno]);
 
 }while(posicion[turno]!=casillas); //Mientras el jugador que este jugando no haya llegado a la meta


printf("Ha ganado el jugador %d\n ", turno);

		   for(i=turno; i<ne; i++){//Elimina el jugador que ha ganado del array.
		   	
  					posicion[i]=posicion[i+1];
		   
		   }
    ne--;// Reduzco el array, eliminando el ganador

 
}while(ne!=1);//Hace que se ejecute mientras que haya minimo dos jugadores.   
}
